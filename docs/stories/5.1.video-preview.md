# Story 5.1: 视频预览播放器

## Status
Draft

## Story

**As a** 用户,
**I want** 在线预览合成完成的视频,
**so that** 可以检查视频效果再决定是否下载

## Acceptance Criteria

### AC1: 视频预览播放

**Scenario**
```gherkin
GIVEN 视频合成完成
WHEN 用户进入结果页面
THEN
  - 显示视频播放器组件
  - 支持播放/暂停控制
  - 显示播放进度条
  - 显示视频时长
```

**Business Rules**
| ID | Rule |
|----|------|
| BR-1.1 | 视频自动加载但不自动播放 |
| BR-1.2 | 支持全屏播放 |
| BR-1.3 | 显示加载进度 |

**Error Handling**
| Scenario | Code | Message | Action |
|----------|------|---------|--------|
| 视频加载失败 | LOAD_ERROR | 视频加载失败，请刷新重试 | 显示重新加载按钮 |

**UI Interaction**
| Trigger | Behavior |
|---------|----------|
| 页面加载 | 预加载视频，显示封面帧 |
| 点击播放 | 开始播放，显示控制条 |
| 双击视频 | 切换全屏状态 |

---

### AC2: 使用镜头展示

**Scenario**
```gherkin
GIVEN 视频预览页面
WHEN 用户查看镜头详情
THEN
  - 显示使用的镜头缩略图列表
  - 显示每个镜头的分类和时长
  - 支持展开/收起
```

**Business Rules**
| ID | Rule |
|----|------|
| BR-2.1 | 默认收起状态 |
| BR-2.2 | 显示镜头使用顺序 |

**UI Interaction**
| Trigger | Behavior |
|---------|----------|
| 点击展开 | 显示镜头缩略图网格 |
| 悬停镜头 | 显示镜头详细信息 |

---

## Tasks / Subtasks

- [ ] **T1: 视频播放器组件** `[AC1]`
- [ ] **T2: 播放控制逻辑** `[AC1]`
- [ ] **T3: 镜头列表组件** `[AC2]`

## Dev Notes

### Consumes APIs
- `GET /api/v1/tasks/{id}/output`

### Dependencies
- 依赖 Story 4.3 (视频自动剪辑合成)

---

## Change Log

| Date | Agent | Status Transition | Details/Link |
|------|-------|-------------------|--------------|
| 2026-01-22 | SM | Created → Draft | Story created from PRD Epic 5 |
